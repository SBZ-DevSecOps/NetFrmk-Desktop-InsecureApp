<Window x:Class="NetFrmk_Desktop_InsecureApp.DA06ResourceWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:NetFrmk_Desktop_InsecureApp"
        mc:Ignorable="d"
        Title="DA06 – Insecure Resources / Dependency Management"
        Height="1100" Width="1220" Background="#FFFAF0">
    <ScrollViewer>
        <StackPanel Margin="18">
            <TextBlock Name="TitleText" FontWeight="Bold" FontSize="22" Foreground="Black" Margin="0,0,0,16"/>
            <TextBlock Name="IntroText" FontSize="14" Foreground="Black" Margin="0,0,0,18"/>
            <ComboBox Name="LanguageSelector" Style="{StaticResource RoundedComboBox}" Width="200" SelectionChanged="LanguageSelector_Changed" Margin="0,0,0,22">
                <ComboBoxItem Content="English"/>
                <ComboBoxItem Content="Français"/>
            </ComboBox>

            <UniformGrid Columns="3" HorizontalAlignment="Center">

                <!-- 1. Vulnérable DLL -->
                <Border CornerRadius="5" BorderBrush="{DynamicResource DA06Panel1}" BorderThickness="2" Background="{DynamicResource DA06Panel7}" Margin="8">
                    <StackPanel Margin="10">
                        <TextBlock Name="VulnDllLabel" FontWeight="Bold" FontSize="16" Foreground="Black"/>
                        <TextBlock Name="VulnDllDesc" FontSize="12" Margin="0,3" Foreground="Black"/>
                        <TextBox Name="VulnDllInput" Style="{StaticResource RoundedTextBox}" Width="240" Margin="0,8,0,6" Text="VulnLib.dll"/>
                        <Button Name="VulnDllButton" Style="{StaticResource RoundedButton}" Width="180" Background="Black" Foreground="White" Click="VulnDllButton_Click"/>
                    </StackPanel>
                </Border>

                <!-- 2. Dynamic Load -->
                <Border CornerRadius="5" BorderBrush="{DynamicResource DA06Panel2}" BorderThickness="2" Background="{DynamicResource DA06Panel6}" Margin="8">
                    <StackPanel Margin="10">
                        <TextBlock Name="DynamicLoadLabel" FontWeight="Bold" FontSize="16" Foreground="Black"/>
                        <TextBlock Name="DynamicLoadDesc" FontSize="12" Margin="0,3" Foreground="Black"/>
                        <TextBox Name="DynamicLoadInput" Style="{StaticResource RoundedTextBox}" Width="240" Margin="0,8,0,6" Text="plugin.dll"/>
                        <Button Name="DynamicLoadButton" Style="{StaticResource RoundedButton}" Width="180" Background="{DynamicResource DA06Panel2}" Foreground="Black" Click="DynamicLoadButton_Click"/>
                    </StackPanel>
                </Border>

                <!-- 3. Load All Plugins -->
                <Border CornerRadius="5" BorderBrush="{DynamicResource DA06Panel3}" BorderThickness="2" Background="{DynamicResource DA06Panel5}" Margin="8">
                    <StackPanel Margin="10">
                        <TextBlock Name="LoadPluginsLabel" FontWeight="Bold" FontSize="16" Foreground="Black"/>
                        <TextBlock Name="LoadPluginsDesc" FontSize="12" Margin="0,3" Foreground="Black"/>
                        <TextBox Name="LoadPluginsInput" Style="{StaticResource RoundedTextBox}" Width="240" Margin="0,8,0,6" Text="C:\Plugins"/>
                        <Button Name="LoadPluginsButton" Style="{StaticResource RoundedButton}" Width="180" Background="{DynamicResource DA06Panel3}" Foreground="Black" Click="LoadPluginsButton_Click"/>
                    </StackPanel>
                </Border>

                <!-- 4. Download & Execute -->
                <Border CornerRadius="5" BorderBrush="{DynamicResource DA06Panel4}" BorderThickness="2" Background="{DynamicResource DA06Panel4}" Margin="8">
                    <StackPanel Margin="10">
                        <TextBlock Name="DownloadExecLabel" FontWeight="Bold" FontSize="16" Foreground="Black"/>
                        <TextBlock Name="DownloadExecDesc" FontSize="12" Margin="0,3" Foreground="Black"/>
                        <TextBox Name="DownloadExecInput" Style="{StaticResource RoundedTextBox}" Width="240" Margin="0,8,0,6" Text="http://example.com/evil.dll"/>
                        <Button Name="DownloadExecButton" Style="{StaticResource RoundedButton}" Width="180" Background="Black" Foreground="{DynamicResource DA06Panel4}" Click="DownloadExecButton_Click"/>
                    </StackPanel>
                </Border>

                <!-- 5. Manifest Load -->
                <Border CornerRadius="5" BorderBrush="{DynamicResource DA06Panel5}" BorderThickness="2" Background="{DynamicResource DA06Panel3}" Margin="8">
                    <StackPanel Margin="10">
                        <TextBlock Name="ManifestLabel" FontWeight="Bold" FontSize="16" Foreground="Black"/>
                        <TextBlock Name="ManifestDesc" FontSize="12" Margin="0,3" Foreground="Black"/>
                        <TextBox Name="ManifestInput" Style="{StaticResource RoundedTextBox}" Width="240" Margin="0,8,0,6" Text="manifest.json"/>
                        <Button Name="ManifestButton" Style="{StaticResource RoundedButton}" Width="180" Background="{DynamicResource DA06Panel5}" Foreground="Black" Click="ManifestButton_Click"/>
                    </StackPanel>
                </Border>

                <!-- 6. User Import -->
                <Border CornerRadius="5" BorderBrush="{DynamicResource DA06Panel6}" BorderThickness="2" Background="{DynamicResource DA06Panel2}" Margin="8">
                    <StackPanel Margin="10">
                        <TextBlock Name="UserImportLabel" FontWeight="Bold" FontSize="16" Foreground="Black"/>
                        <TextBlock Name="UserImportDesc" FontSize="12" Margin="0,3" Foreground="Black"/>
                        <TextBox Name="UserImportInput" Style="{StaticResource RoundedTextBox}" Width="240" Margin="0,8,0,6" Text="C:\SomeDll.dll"/>
                        <Button Name="UserImportButton" Style="{StaticResource RoundedButton}" Width="180" Background="{DynamicResource DA06Panel6}" Foreground="Black" Click="UserImportButton_Click"/>
                    </StackPanel>
                </Border>

                <!-- 7. DLL Hijacking -->
                <Border CornerRadius="5" BorderBrush="{DynamicResource DA06Panel7}" BorderThickness="2" Background="{DynamicResource DA06Panel1}" Margin="8">
                    <StackPanel Margin="10">
                        <TextBlock Name="DllHijackingLabel" FontWeight="Bold" FontSize="16" Foreground="Black"/>
                        <TextBlock Name="DllHijackingDesc" FontSize="12" Margin="0,3" Foreground="Black"/>
                        <TextBox Name="DllHijackingInput" Style="{StaticResource RoundedTextBox}" Width="240" Margin="0,8,0,6" Text="C:\Path\to\app.exe"/>
                        <Button Name="DllHijackingButton" Style="{StaticResource RoundedButton}" Width="180" Background="{DynamicResource DA06Panel7}" Foreground="Black" Click="DllHijackingButton_Click"/>
                    </StackPanel>
                </Border>

                <!-- 8. Vulnérable NuGet -->
                <Border CornerRadius="5" BorderBrush="{DynamicResource DA06Panel1}" BorderThickness="2" Background="{DynamicResource DA06Panel5}" Margin="8">
                    <StackPanel Margin="10">
                        <TextBlock Name="VulnNugetLabel" FontWeight="Bold" FontSize="16" Foreground="Black"/>
                        <TextBlock Name="VulnNugetDesc" FontSize="12" Margin="0,3" Foreground="Black"/>
                        <Button Name="VulnNugetButton" Style="{StaticResource RoundedButton}" Width="180" Background="{DynamicResource DA06Panel1}" Foreground="White" Click="VulnNugetButton_Click"/>
                    </StackPanel>
                </Border>

                <!-- 9. Ressource HTTP externe -->
                <Border CornerRadius="5" BorderBrush="{DynamicResource DA06Panel2}" BorderThickness="2" Background="{DynamicResource DA06Panel6}" Margin="8">
                    <StackPanel Margin="10">
                        <TextBlock Name="HttpResourceLabel" FontWeight="Bold" FontSize="16" Foreground="Black"/>
                        <TextBlock Name="HttpResourceDesc" FontSize="12" Margin="0,3" Foreground="Black"/>
                        <TextBox Name="HttpResourceInput" Style="{StaticResource RoundedTextBox}" Width="240" Margin="0,8,0,6" Text="http://example.com/config.json"/>
                        <Button Name="HttpResourceButton" Style="{StaticResource RoundedButton}" Width="180" Background="{DynamicResource DA06Panel2}" Foreground="Black" Click="HttpResourceButton_Click"/>
                    </StackPanel>
                </Border>

                <!-- 10. Exécution script PowerShell -->
                <Border CornerRadius="5" BorderBrush="{DynamicResource DA06Panel3}" BorderThickness="2" Background="{DynamicResource DA06Panel4}" Margin="8">
                    <StackPanel Margin="10">
                        <TextBlock Name="PsScriptLabel" FontWeight="Bold" FontSize="16" Foreground="Black"/>
                        <TextBlock Name="PsScriptDesc" FontSize="12" Margin="0,3" Foreground="Black"/>
                        <TextBox Name="PsScriptInput" Style="{StaticResource RoundedTextBox}" Width="240" Margin="0,8,0,6" Text="Get-Process"/>
                        <Button Name="PsScriptButton" Style="{StaticResource RoundedButton}" Width="180" Background="{DynamicResource DA06Panel3}" Foreground="Black" Click="PsScriptButton_Click"/>
                    </StackPanel>
                </Border>

                <!-- 11. Chargement DLL chemin relatif -->
                <Border CornerRadius="5" BorderBrush="{DynamicResource DA06Panel5}" BorderThickness="2" Background="{DynamicResource DA06Panel7}" Margin="8">
                    <StackPanel Margin="10">
                        <TextBlock Name="RelativeDllLabel" FontWeight="Bold" FontSize="16" Foreground="Black"/>
                        <TextBlock Name="RelativeDllDesc" FontSize="12" Margin="0,3" Foreground="Black"/>
                        <TextBox Name="RelativeDllInput" Style="{StaticResource RoundedTextBox}" Width="240" Margin="0,8,0,6" Text="plugins\malicious.dll"/>
                        <Button Name="RelativeDllButton" Style="{StaticResource RoundedButton}" Width="180" Background="{DynamicResource DA06Panel5}" Foreground="Black" Click="RelativeDllButton_Click"/>
                    </StackPanel>
                </Border>
            </UniformGrid>
        </StackPanel>
    </ScrollViewer>
</Window>

